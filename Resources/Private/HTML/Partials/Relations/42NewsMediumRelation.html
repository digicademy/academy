{namespace adw=Digicademy\Academy\ViewHelpers}

<f:if condition="{controller} == 'News'">
	<f:then>
		<h4 class="icon media"><f:translate key="media" extensionName="Academy" /></h4>
		<ul class="rows">
			<f:for each="{relations}" as="relation">
				<li class="row">
					<f:link.action action="Show" controller="Media" pluginName="media" extensionName="Academy" arguments="{medium : relation.medium.uid}" pageUid="2141" class="icon before {f:cObject(typoscriptObjectPath: 'lib.mediaicon', data: {type : relation.medium.type})}">
						{relation.medium.title}
					</f:link.action>
				</li>
			</f:for>
		</ul>
	</f:then>
	<f:else>
		<h4 class="icon news"><f:translate key="news" extensionName="Academy" /></h4>
		<ul class="rows">
			<f:for each="{relations}" as="relation">
				<li class="row">
					<f:link.action extensionName="News" pluginName="pi1" controller="News" action="detail" arguments="{news : relation.news.uid}" pageUid="1790">
						{relation.news.title} â€“ <f:format.date format="d.m.Y">{relation.news.datetime}</f:format.date>
					</f:link.action>
				</li>
			</f:for>
		</ul>
	</f:else>
</f:if>